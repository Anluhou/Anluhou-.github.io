<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="关于前端探索、分享、记录、生活 |这里是 Wj 的个人博客，与你一起踏上前端之路。">
  <meta name="keywords" content="吴杰, Wj吴杰, 安陆侯, 前端之路, 吴杰的博客, WjBlog, 博客, 个人网站, 互联网, Web, JavaScript, 前端">
  <link rel="shortcut icon" href="../IMG\wj_favicon.ico" type="image/x-icon" />
  <link href="../CSS/bootstrap-min.css" rel="stylesheet">
  <link rel="stylesheet" href="../CSS/wj-blog.css">
  <link rel="stylesheet" href="../CSS/trans.css">
  <link rel="stylesheet"  media="screen and (max-width: 768px)" href="../CSS/mobile.css">
  <script src="../js/jquery.js" type="text/javascript"></script>
  <script src="../js/blog.js"></script>
  <title>吴杰的博客</title>
  <style>
    p{
      margin: 10px;
    }
  </style>
</head>
<body>
  <nav class="navbar" name="top">
    <div class="navbar-brand">
      <a href="../index.html">Wj Blog</a>
    </div>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="../index.html">Home</a></li>
      <li><a href="#">About</a></li>
    </ul>
  </nav>
  <header class="intro-header">
    <div class="site-heading">
      <h1>Wj Blog</h1>
      <div class="statue">前端之路</div>
    </div>
  </header>
  <article>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2col-md-10 col-md-offset-1">
          <h2>jQuery性能优化</h2>
          <h4>1.使用最新版本的jQuery类库</h4>
          <h4>2.使用合适的选择器</h4>
          <strong>$('#id')</strong>
          <p>
            使用id来定为DOM元素无疑是最佳提高性能的方式，因为jQuery底层直接调用本地方法document.getElementById(). <br>
            还可以使用find()方法。代码如下： <br>
            $('#content').find(div); <br>
            使用以上代码可以有效缩小你定位的DOM元素.
          </p>
          <strong>$('p') $('div') $('input')</strong>
          <p>
            标签选择器是优化的第二选择，因为jQuery直接调用本地方法document.getElementsByTagNamee()来定位DOM元素。
          </p>
          <strong>$('.class')</strong>
          <p>IE8不支持document.getElementsByClassName(),只能靠使用DOM搜索来实现，对性能产生较大的影响。</p>
          <strong>$('[attribute=value]')</strong>
          <p>没有直接在本地JS中实现</p>
          <strong>$(':hidden')</strong>
          <p>
            没有直接在本地JS中实现.可以先使用ID选择器定位父元素，然后在使用伪类选择器，这样对性能有帮助。代码如下：<br>
            $('#content').(':hidden');<br>
            $('#content').(':animated');<br>
          </p>
          <h4>3.缓存对象</h4>
          <p>
            如果重复调用选择器，应该先把它缓存到一个变量，因为jQuery会在创建每一个选择器的过程中，查找DOM。例子：<br>
            $('#selector').click(function(){});<br>
            $('#selector').css(...);<br>
            正确的做法：<br>
            var $selector = $('#selector'); <br>
            $selector.click(function(){});<br>
            $selector.css(...);<br>
            上述代码可以使用链式方法表达，这里只是为了说明使用缓存变量的重要性。
          </p>
          <h4>4.循环时的DOM操作</h4>
          <pre>
            var arr = [...];//假设这里有100个独一无二的字符串
            var $mylist = $("#mylist");//jQuery选择到ul元素
            for(var i=0, lens=arr.length; i&lt;lens; i++){
              $mylist.append('&lt;li&gt;'+arr[i]+'&lt;li&gt;');
            }
          </pre>
          <p>以上代码中，我们将每一个新添加的标签元素都作为一个节点添加到容器ID中，实际jQuery操作消耗的性能也不低，所以更好的方法是减少DOM操作。</p>
          <pre>
            var arr = [...];//假设这里有100个独一无二的字符串
            var $mylist = $("#mylist");//jQuery选择到ul元素
            var arr_li = "";这个变量将用来存储我们的列表元素
            for(var i=0, lens=arr.length; i&lt;lens; i++){
              arr_li += '&lt;li&gt;'+arr[i]+'&lt;li&gt;'
            }
            $mylist.html(arr_li);
          </pre>
        </div>
      </div>
    </div>
  </article>
  <footer>
    <div id="goHeader">
      <a class="to-top">
        <div class="arrow"></div>
        <div class="stick"></div>
      </a>
    </div>
    <p class="copyright">
      Copyright © Wj Blog 2017
      <br>
      Theme by Wj
    </p>
  </footer>
</body>
</html>
